<Window x:Class="WeChatHook.DialogSetDatabaseFolder"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WeChatHook"
        mc:Ignorable="d" WindowStartupLocation="CenterScreen"
        Title="设置数据库路径" Height="300" Width="400" MinHeight="300" MinWidth="400">
    <Grid>
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" VerticalAlignment="Center" Margin="0,0,5,0">数据库路径: </TextBlock>
                <Button Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Right" Width="16" Height="15" FontSize="8" Click="Button_Browse_Click">...</Button>
                <TextBox x:Name="TextInput" TextWrapping="Wrap" Grid.Row="1" ScrollViewer.HorizontalScrollBarVisibility="Visible" Height="50" Margin="0,4,0,0" />
            </Grid>
            <Grid Grid.Row="2" Margin="0,10,0,10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Text="自动获取：（点击自动输入到上方）" TextWrapping="Wrap"/>
                <ListBox x:Name="AutoDetectList" Grid.Row="1" Margin="0,4,0,0" SelectionChanged="AutoDetectList_SelectionChanged" />
            </Grid>
            <Grid Grid.Row="3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Margin="0,0,10,0" Foreground="DarkGray" TextWrapping="Wrap">
                    你应该选择的是自己微信号的 <Run Foreground="Black" FontWeight="Bold">db_storage</Run> 里面的 <Run Foreground="Black" FontWeight="Bold">message</Run> 文件夹，
                    <Run Foreground="Red" FontWeight="Bold">如果选错了，Hook 是无法正常响应消息的！</Run>
                </TextBlock>
                <Button Grid.Column="1" VerticalAlignment="Bottom" Content="确定" Width="120" Height="32" Click="Button_OK_Click"/>
            </Grid>
        </Grid>
    </Grid>
</Window>
