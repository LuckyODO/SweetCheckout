# SweetCheckout

自部署支付系统，无费率，免费，开源。

<details>
    <summary>免责声明</summary>
    <p>仅供学习研究与技术交流，请勿用于非法用途，后果自负。</p>
    <p>本项目作者与贡献者不对本项目的有效性、可靠性、安全性等作任何明示或暗示的保证，也不对使用或滥用本项目造成的任何直接或间接的损失、责任、索赔、要求或诉讼承担任何责任。</p>
    <p>本项目源代码或二进制文件的使用者应当遵守相关法律法规，尊重 Tencent 公司和阿里巴巴集团的版权与隐私，不得侵犯其与其它第三方的合法权益，不得从事任何违法或违反道德的行为。</p>
    <p>使用本程序的源代码或二进制文件的任何部分即代表你同意此条款，如有异议，请立即停止使用并删除所有相关文件。</p>
    <p>项目简介中的“无费率”指的是，本项目不额外收取手续费。例如当面付接口，支付宝官方收取<code>0.6%</code>手续费，那么费率就是<code>0.6%</code>，无额外的中间商抽成。</p>
</details>

## 简介

先说缺点，部分场景只能用金额来关联用户，无法承受高并发需求，这对于 Minecraft 服务器来说已基本足够，可以凑合着用。

```
SweetCheckout 目录结构
  └─ backend: 支付系统后端
  └─ bukkit: Bukkit插件
```

+ `支付系统后端`: 负责中转和管理插件请求与支付接口请求，储存支付排队序列
+ `Bukkit插件`: 与玩家交互的逻辑

## 支付方案

|     | 平台　　 | 支付方案　 | 说明 |
| --- |:--- |:--- |:--- |
| ✅ | 支付宝 | [当面付](https://b.alipay.com/page/product-mall/product-detail/I1080300001000041016) | 官方接口。当面付是指用户识别商家收款介质（如：条形码、**二维码**、NFC等）进行付款的一种支付产品。 |
| ❌ | 支付宝 | Hook | 第三方接口。商家在后端配置各金额的支付**二维码**，付款时将二维码展示给用户，Hook截取未知客户端收款信息，由后端进行确认付款的模式。 |
| ❔ | 微信 | [Native](https://pay.weixin.qq.com/static/product/product_intro.shtml?name=native) | 官方接口。Native支付是指商户系统按微信支付协议生成支付**二维码**，用户再用微信“扫一扫”完成支付的模式。 |
| ✅ | 微信 | Hook | 第三方接口。商家在后端配置各金额的支付**二维码**，付款时将二维码展示给用户，Hook截取微信PC版收款信息，由后端进行确认付款的模式。 |

+ ✅ 代表 此方案可用。
+ ❔ 代表 此方案已实现，但由于开发者未申请相关接口等原因，未进行测试。
+ ❌ 代表 此方案暂不可用。
